import*as e from"@wordpress/interactivity";var t={d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const o=(c={getConfig:()=>e.getConfig,getContext:()=>e.getContext,getElement:()=>e.getElement,store:()=>e.store},u={},t.d(u,c),u),n=['input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],r=()=>window.matchMedia("(max-width: 781px)").matches,{state:p,actions:a,functions:s}=(0,o.store)("whitehouse-header",{state:{popoverOpen:!1,popoverTarget:null,popoverMenuActiveItem:null,sticky:!1,get popoverMenuOpen(){return p.popoverOpen&&"menu"===p.popoverTarget},get popoverSearchOpen(){return p.popoverOpen&&"search"===p.popoverTarget},get currentPopoverMenuActiveItemDepth(){let e=0,t=p.popoverMenuActiveItem||null;for(;t&&!t.matches("nav");)t.matches("ul")&&e++,t=t.parentElement;return e}},functions:{debouncePopoverMenuIntent:(e,t)=>{const n=(0,o.getContext)();clearTimeout(n.debounceTimer),n.debounceTimer=setTimeout((function(){n.popoverMenuActiveIntent&&e()}),t)},clearDebouncePopoverMenuIntent:()=>{const e=(0,o.getContext)();clearTimeout(e.debounceTimer),e.popoverMenuActiveIntent=null}},actions:{closePopover:()=>{p.popoverOpen=!1,p.popoverTarget=null},openMenu:()=>{p.popoverOpen=!0,p.popoverTarget="menu"},openSearch:()=>{p.popoverOpen=!0,p.popoverTarget="search"},toggleMenu:()=>{p.popoverOpen&&"menu"===p.popoverTarget?(p.popoverOpen=!p.popoverOpen,p.popoverTarget=null):(p.popoverOpen=!0,p.popoverTarget="menu")},toggleSearch:()=>{p.popoverOpen&&"search"===p.popoverTarget?(p.popoverOpen=!p.popoverOpen,p.popoverTarget=null):(p.popoverOpen=!0,p.popoverTarget="search")},setCurrentPopoverMenuActiveItem:e=>{const t=(0,o.getContext)(),n=e?.target&&e.target.matches("a")?e.target:null;n&&(n.parentElement.classList.contains("menu-item-has-children")&&(!window.matchMedia("(hover: hover)").matches&&!window.matchMedia("(pointer: fine)").matches||r())&&(e.preventDefault(),e.stopPropagation()),a.setCurrentMenuItem(t,n))},setCurrentMenuItem:(e,t)=>{e.popoverMenuActiveIntent=parent,s.debouncePopoverMenuIntent((()=>{const o=t.parentElement,n=o.closest("li");let r=o;o.classList.contains("menu-item-back")&&(r=n),p.popoverMenuActiveItem=r,r.querySelector("ul")||p.currentPopoverMenuActiveItemDepth>1?e.popover.classList.add("has-active-submenu"):e.popover.classList.remove("has-active-submenu")}),100)}},callbacks:{initPopover:()=>{const e=(0,o.getContext)(),{ref:t}=(0,o.getElement)();if(e.popover=t,p.popoverOpen){if("search"===p.popoverTarget)e.popover.querySelector('input[type="search"]')?.focus();else{const t=e.popover.querySelectorAll(n);t?.[0]?.focus()}document.body.classList.remove("has-popover-open--menu"),document.body.classList.remove("has-popover-open--search"),document.body.classList.add("has-popover-open"),document.body.classList.add("has-popover-open--"+p.popoverTarget)}else document.body.classList.remove("has-popover-open"),document.body.classList.remove("has-popover-open--menu"),document.body.classList.remove("has-popover-open--search")},handlePopoverKeydown:e=>{p.popoverOpen&&27===e.keyCode&&a.closePopover()},handlePopoverMenuMouseover:e=>{if(r())return;const t=(0,o.getContext)(),n=e?.target&&e.target.matches("a")?e.target:null;n&&a.setCurrentMenuItem(t,n)},handlePopoverMenuMouseout:e=>{if(r())return;if(!e.target)return;const{ref:t}=(0,o.getElement)();t.contains(e.target)&&e.target.matches("nav > ul > li > a")&&s.clearDebouncePopoverMenuIntent()},handleWindowScroll:()=>{const e=(0,o.getContext)(),t=parseInt(e.stickyThreshold);window.scrollY>=t?(p.sticky=!0,document.body.classList.add("has-sticky-header")):(p.sticky=!1,document.body.classList.remove("has-sticky-header"))},handlePopoverMenuBlur:()=>"menu"!==p.popoverTarget&&(p.popoverMenuActiveItem=null,!0),isActivePopoverMenuItem:()=>{const{ref:e}=(0,o.getElement)();return p.popoverMenuActiveItem&&(p.popoverMenuActiveItem===e||e.contains(p.popoverMenuActiveItem))},isSubmenuActivePopoverMenuItem:()=>{const{ref:e}=(0,o.getElement)();return p.popoverMenuActiveItem&&e.contains(p.popoverMenuActiveItem)},isSubmenuPopoverOpen:()=>p?.popoverMenuActiveItem&&p?.popoverMenuActiveItem?.matches(".menu-item-has-children"),isPopoverOpen:()=>p.popoverOpen,isMenuPopoverOpen:()=>p.popoverOpen&&"menu"===p.popoverTarget,isSearchPopoverOpen:()=>p.popoverOpen&&"search"===p.popoverTarget,getMenuButtonLabel:()=>{const{ref:e}=(0,o.getElement)();if(!e)return;const{menuOpenLabel:t,menuCloseLabel:n}=(0,o.getConfig)();e.innerHTML=p.popoverMenuOpen?n:t},getMenuButtonTitle:()=>{const{menuOpenTitle:e,menuCloseTitle:t}=(0,o.getConfig)();return p.popoverMenuOpen?t:e},getSearchButtonLabel:()=>{const{ref:e}=(0,o.getElement)();if(!e)return;const{searchOpenLabel:t,searchCloseLabel:n}=(0,o.getConfig)();e.innerHTML=p.popoverSearchOpen?n:t},getSearchButtonTitle:()=>{const{searchOpenTitle:e,searchCloseTitle:t}=(0,o.getConfig)();return p.popoverSearchOpen?t:e},getCurrentDepth:()=>p.currentPopoverMenuActiveItemDepth,handlePopoverMenuResize:()=>{p.popoverMenuActiveItem=null},init:()=>{const{ref:e}=(0,o.getElement)(),{backLabel:t}=(0,o.getConfig)();e.querySelectorAll(".sub-menu").forEach((e=>{const o=e.parentElement.querySelector("a").querySelector(".menu-item-submenu-indicator"),n=document.createElement("li");n.classList.add("menu-item-back");const r=document.createElement("a");r.href="#",r.innerHTML=t,r.appendChild(o.cloneNode(!0)),n.appendChild(r),e.insertBefore(n,e.firstChild)}))}}},{lock:!0});var c,u;